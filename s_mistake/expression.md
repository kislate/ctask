### 1. 进行整型（int）除法时，小数部分直接舍弃

当你进行整型除法时，结果会直接取整数部分，小数部分会被直接舍弃，而不是进行四舍五入。

比如以下几个例子：

- 7 / 2 会得到 3，而不是 3.5。
- 9 / 4 会得到 2，而不是 2.25。
- 15 / 7 会得到 2，而不是 2.14。

### 2. 如何在整型（int）除法时保留小数部分？

在 C++ 中，只要表达式中的任意一个参与运算的操作数是浮点数（如 float 或 double），整个表达式的结果就会被提升为浮点数类型。

在 `m * 100.0 / n` 中，虽然 `n` 是整型，但由于 `100.0` 是一个浮点数，按照 C++ 的类型提升规则，`m * 100.0` 的结果首先是一个浮点数，然后再与 `n` 进行除法运算，这时浮点数和整型相除，最终的结果也是浮点数。

具体步骤如下：

1. `m * 100.0`：由于 `100.0` 是浮点数，所以 `m` 先被提升为浮点数，`m * 100.0` 的结果是浮点数。
2. 浮点数 / 整型：结果再与 `n` 进行除法，由于一个是浮点数，一个是整型，C++ 会自动将 `n` 提升为浮点数，然后进行浮点除法，结果依然是浮点数。

举个例子：

```c
int m = 7;
int n = 3;
double result = m * 100.0 / n;  // 7 * 100.0 = 700.0, 然后 700.0 / 3 = 233.333...
```

尽管 `n` 是整型，`m * 100.0 / n` 的结果还是 233.333...（浮点数）。

所以，确保结果是浮点数的关键在于至少有一个操作数是浮点数，这会促使整个表达式的计算以浮点数的方式进行。

### 3. 浮点数如何四舍五入？

1. **使用 `printf("%.0f")` 实现四舍五入**

   `%.0f` 是 `printf` 的格式说明符，表示输出时保留 0 位小数，同时会自动对浮点数进行四舍五入。

   当我们用 `printf("%.0f", value)` 格式输出浮点数时，它会根据标准四舍五入规则：小数部分大于等于 0.5 进位，小于 0.5 舍弃。例如：
   - 66.67 输出为 67。
   - 83.33 输出为 83。

2. **使用 `round()` 函数四舍五入**

   `round()` 函数是一个专门用于浮点数四舍五入的函数，返回最接近的整数值。

   当调用 `round(value)` 时，它会对 `value` 进行四舍五入操作。例如：
   - `round(66.67)` 返回 67。
   - `round(83.33)` 返回 83。

示例代码：

```c
printf("%.0f%%\n", (a * 100) / (n * 1.0));  // 使用 printf 自动四舍五入
x = round(((n - m) * 100) / (n * 1.0));     // 使用 round 函数四舍五入
```
